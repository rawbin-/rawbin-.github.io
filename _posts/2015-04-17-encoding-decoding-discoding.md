---
layout: post
title: "Web开发中的编码解码乱码问题深入解析"
date: 2015/4/17 7:09:13 
categories: Web开发 编码 解码 乱码
---

# 基本概念
+ 字符：各种文字和符号的统称，包括各国各族各地的文字，标点符号，图形符号，数字等。
+ 字符集： 字符的集合，比如汉字字符集，ASCII字符集，简体中文字符集，罗马字母等。字符集关心的是这个集合需要包含哪些东西，怎么唯一表示这个集合中的每一个元素。
+ 字符编码： 将字符集处理为计算机能够识别和处理的规则。字符编码关注一个字符如何用二进制表示，如何让计算机精确识别。
+ 内码: 内码是指计算机汉字系统中使用的二进制字符编码，是沟通输入、输出与系统平台之间的交换码，通过内码可以达到通用和高效率传输文本的目的。比如MS Word中所存储和调用的就是内码而非图形文字。英文ASCII字符采用一个字节的内码表示，中文字符如国标字符集中，GB2312、GB12345、GB13000皆用双字节内码，GB18030（27,533汉字）双字节内码汉字为20,902个，其余6,631个汉字用四字节内码。
+ 编码操作： 将信息转换为二进制串的过程。
+ 解码操作： 将字符从二进制串中还原的操作。

## 编码和字符集关系
+ ASCII字符集: ASCII编码
+ ISO 8859-\*字符集: ISO 8859-\*编码 
+ GB2313字符集： GB2312编码
+ BIG5字符集： BIG5编码
+ GB18030字符集： GB18030编码
+ UCS字符集： UCS-2编码，UCS-4编码
+ Unicode字符集：UTF-7，UTF-8编码，UTF-16编码，Unicode编码（UCS-2），Unicode大端，Unicode小端，UTF-32编码
+ ANSI: 使用2个字节来代表一个字符的各种汉字延伸编码方式，称为ANSI编码。 在简体中文系统下，ANSI编码代表GB2312编码，在日文操作系统下，ANSI编码代表JIS编码。 

#系统编码
信息从键盘录入到存储到硬盘中的过程。
每个键盘按键都有一个对应的编码，这个是与硬件相关的、跟厂家相关的（扫描码）。为了使各个硬件厂商间的键码进行兼容，出台了一个通用的键盘编码（虚拟键码），虚拟键码是与硬件无关的，不同厂家使用同一套虚拟键码。
输入过程如下：
+ 计算机在捕获到键盘输入后，把获取到的键盘操作的扫描码交给键盘驱动程序  
+ 键盘驱动程序经过键码到虚拟码的转换，然后将扫描码和虚拟码及相关信息发送给操作系统
+ 操作系统把获得的信息封装到一个消息里，并放入消息队列。
+ Window通过消息系统将键盘信息发送给应用程序（比如说QQ）
+ 应用程序处理消息内容，并作出进一步响应。


## 参考
0. [输入法工作原理][0]
1. [输入法工作原理][1]
2. [键盘输入工作原理][2]
3. [键盘输入工作原理][3]
4. [关于输入法的工作原理及编程][4]
5. [输入法的基本原理][5]
6. [关于输入法的工作原理及编程][6]








[0]: http://blog.csdn.net/shuilan0066/article/details/6883629 "输入法工作原理"
[1]: http://www.xp85.com/html/article-98-3220.html "输入法工作原理"
[2]: https://msdn.microsoft.com/zh-cn/library/ms171535v "键盘输入工作原理"
[3]: http://blog.csdn.net/zztfj/article/details/5106832 "键盘输入工作原理"
[4]: http://blog.csdn.net/xiajian2010/article/details/23596865 "关于输入法的工作原理及编程"
[5]: http://blog.163.com/zhao_a_s/blog/static/21635295200791810554941/ "输入法的基本原理"
[6]: http://m.blog.csdn.net/blog/xiajian2010/23596865 "关于输入法的工作原理及编程"